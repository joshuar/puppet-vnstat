# vnstat.conf: Managed by puppet.
#


# location of the database directory
 # location of the database directory
DatabaseDir "<%= @database_directory %>"

# locale (LC_ALL) ("-" = use system locale)
Locale "-"

# on which day should months change
MonthRotate <%= @month_rotate %>

# date output formats for -d, -m, -t and -w
 # see 'man date' for control codes
DayFormat    "<%= @day_format %>"
MonthFormat  "<%= @month_format %>"
TopFormat    "<%= @top_format %>"

# characters used for visuals
RXCharacter       "<%= @rx_char %>"
TXCharacter       "<%= @tx_char %>"
RXHourCharacter   "<%= @rx_hour_char %>"
TXHourCharacter   "<%= @tx_hour_char %>"

# how units are prefixed when traffic is shown
# 0 = IEC standard prefixes (KiB/MiB/GiB/TiB)
# 1 = old style binary prefixes (KB/MB/GB/TB)
<% if @iec_units -%>
UnitMode 0
<% else -%>
UnitMode 1
<% end -%>

# output style
# 0 = minimal & narrow, 1 = bar column visible
# 2 = same as 1 except rate in summary and weekly
# 3 = rate column visible
OutputStyle <%= @output_style %>

# used rate unit (0 = bytes, 1 = bits)
<% if @rate_unit == 'bits' -%>
RateUnit 1
<% end -%>
<% if @rate_unit == 'bytes' -%>
RateUnit 0
<% end -%>

# maximum bandwidth (Mbit) for all interfaces, 0 = disable feature
# (unless interface specific limit is given)
MaxBandwidth <%= @max_bandwidth %>

# how many seconds should sampling for -tr take by default
Sampletime <%= @sample_time %>

# default query mode
# 0 = normal, 1 = days, 2 = months, 3 = top10
# 4 = dumpdb, 5 = short, 6 = weeks, 7 = hours
QueryMode 0

# filesystem disk space check (1 = enabled, 0 = disabled)
CheckDiskSpace 1

# database file locking (1 = enabled, 0 = disabled)
UseFileLocking 1

# how much the boot time can variate between updates (seconds)
BootVariation <%= @boot_variation %>

# log days without traffic to daily list (1 = enabled, 0 = disabled)
<% if @log_notraffic_days -%>
TrafficlessDays 1
<% else -%>
TrafficlessDays 0
<% end -%>

<% if @use_vnstatd -%>
 # vnstatd
 ##
 
 # how often (in seconds) interface data is updated
 UpdateInterval 30
 
 # how often (in seconds) interface status changes are checked
 PollInterval 5
 
 # how often (in minutes) data is saved to file
 SaveInterval 5
 
 # how often (in minutes) data is saved when all interface are offline
 OfflineSaveInterval 30
 
 # force data save when interface status changes (1 = enabled, 0 = disabled)
 SaveOnStatusChange 1
 
 # enable / disable logging (0 = disabled, 1 = logfile, 2 = syslog)
 UseLogging 2
 
 # file used for logging if UseLogging is set to 1
 LogFile "/var/log/vnstat.log"
 
 # file used as daemon pid / lock file
 PidFile "/run/vnstat/vnstat.pid"

 <% end -%>